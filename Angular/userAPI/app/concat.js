!function(){"use strict";angular.module("myApp",["ngResource","ngSanitize","ngMessages","toaster","ui.router","userController","alertController","countdownController","editUserController"]).factory("_",["$window",function(e){return e._}]).factory("UserResource",["$resource",function(e){var t=e("/api/users/:id",{id:"@id"},{update:{method:"PUT"}});return t}]).run(["$rootScope","$log",function(e,t){e.$on("$stateChangeError",function(e,r,n,o,s,u){t.info("state change error",u)})}])}(),function(){"use strict";angular.module("myApp").config(["userServiceProvider",function(e){e.setBasePath("/api/"),e.setPageSize(20)}]).config(["$httpProvider",function(e){e.interceptors.push("httpLogInterceptor"),e.interceptors.push("httpAuthenticateInterceptor"),e.interceptors.push("httpErrorInterceptor")}]).config(["$stateProvider","$locationProvider","$urlRouterProvider",function(e,t,r){e.state("edit",{url:"/edit/:userId",templateUrl:"../views/edit.html",controller:"editUserController",controllerAs:"vm"}).state("add",{url:"/add",templateUrl:"../views/edit.html",controller:"editUserController",controllerAs:"vm"}).state("users",{url:"/users",templateUrl:"../views/users.html",controller:"UserListController",controllerAs:"vm",resolve:{users:["userService",function(e){return e.getUsers()}]}}).state("countdown",{url:"/countdown",templateUrl:"../views/countdown.html",controller:"CountdownController",controllerAs:"vm"}).state("alert",{url:"/alert",templateUrl:"../views/alert.html",controller:"AlertController",controllerAs:"vm"}),r.otherwise("/users"),t.html5Mode(!0)}])}(),function(){"use strict";function e(){function e(){t.showAlert=!1,t.alertMessage="Whoop Whoop, this is me showing an alert",t.alertType="success"}var t=this;e(),t.toggleAlert=function(){t.showAlert=!t.showAlert}}angular.module("alertController",["ui.bootstrap"]).controller("AlertController",e)}(),function(){"use strict";function e(e,t){function r(){s.seconds=10,s.start=!0,n()}function n(){u=e(o,1e3)}function o(){s.seconds--,0==s.seconds&&(t.alert("Done"),e.cancel(u),u=null)}var s=this,u=null;r()}angular.module("countdownController",[]).controller("CountdownController",e),e.$inject=["$interval","$window"]}(),function(){"use strict";function e(e,t,r,n){function o(){u.userId=t.userId,u.userId&&n.getUser(u.userId).then(function(e){u.user=e})["catch"](function(e){u.message=e.data})}function s(e){e&&(r.myForm.submitting=!0,n.saveUser(u.user).then(function(){u.message="Succesfully added to the DB ",r.myForm.submitting=!1,u.user=angular.copy(u.master),r.myForm.$setPristine(),r.myForm.$setUntouched()})["catch"](function(e){u.message=e.data}))}var u=this;u.userId=null,u.submit=s,u.master={},o()}angular.module("editUserController",[]).controller("editUserController",e),e.$inject=["$log","$stateParams","$scope","userService"]}(),function(){"use strict";function e(e,t,r,n,o){function s(){r("gmail");i.users=o}function u(e){n.path("edit/"+e.id)}var i=this;i.users=[],i.sortBy="email",i.errorMessage="",i.busy=!1,i.page=1,i.text="<strong>Hello World</strong>",i.editUser=u,s(),i.sortTableBy=function(t){i.reverse=i.sortBy===t?!i.reverse:!1,i.sortBy=t,i.reverse&&(t="-"+t),e.getUsers(i.page,t).then(function(e){i.users=e})["catch"](function(e){i.errorMessage=e.data})},i.deleteUser=function(r){e.deleteUser(r).then(function(e){i.users=t.without(i.users,t.findWhere(i.users,r))})["catch"](function(e){i.errorMessage=e.data})},i.loadMore=function(){i.busy||(i.busy=!0,e.getUsers(i.page,i.sortBy).then(function(e){i.users=i.users.concat(e),e.lastPage||(i.page+=1,i.busy=!1)})["catch"](function(e){i.errorMessage=e.data}))}}angular.module("userController",["infinite-scroll"]).controller("UserListController",e),e.$inject=["userService","_","$filter","$location","users"]}(),function(){angular.module("myApp").filter("casser",function(){return function(e,t){return e=e||"",t?e.toUpperCase():e.toLowerCase()}})}(),function(){"use strict";angular.module("myApp").filter("gmail",["_","$log",function(e,t){return function(t){return e.filter(t,function(e){return-1!==e.email.indexOf("gmail")})}}])}(),function(){"use strict";function e(){var e,t;this.setBasePath=function(t){e=t},this.setPageSize=function(e){t=e},this.$get=["$log","UserResource",function(e,t){function r(){return t.query().$promise.then(function(e){return e})}function n(r){return e.info(r),t.get({id:r}).$promise.then(function(e){return e})}function o(e){return t.remove(e).$promise}function s(e){return e.id?t.update(e).$promise:t.save(e).$promise}return{deleteUser:o,getUsers:r,getUser:n,saveUser:s}}]}angular.module("myApp").provider("userService",e)}(),function(){"use strict";angular.module("myApp").factory("httpAuthenticateInterceptor",["$q",function(e){return{request:function(t){return t.headers.authorization="Robbert Wolfs",e.when(t)}}}])}(),function(){"use strict";angular.module("myApp").factory("httpErrorInterceptor",["$q","toaster",function(e,t){return{request:function(e){return e},responseError:function(r){return t.pop("error","Error",r.data),e.reject(r)}}}])}(),function(){"use strict";angular.module("myApp").factory("httpLogInterceptor",["$q",function(e){return{request:function(t){return console.log("test",t.url),e.when(t)}}}])}();